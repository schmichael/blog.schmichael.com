<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Sql on </title>
    <link>/categories/sql/</link>
    <description>Recent content in Sql on </description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Sat, 17 Jul 2010 00:00:00 +0000</lastBuildDate>
    <atom:link href="/categories/sql/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Less Pagination, More More</title>
      <link>/2010/07/16/less-pagination-more-more/</link>
      <pubDate>Sat, 17 Jul 2010 00:00:00 +0000</pubDate>
      
      <guid>/2010/07/16/less-pagination-more-more/</guid>
      <description>&lt;p&gt;We live in a brave new (to some) world of databases other than a relational database with a SQL interface. Normally end users never notice a difference, but the astute viewer may notice the slow demise of an old friend: pagination.&lt;/p&gt;

&lt;p&gt;Traditionally with SQL databases pagination has looked something like this:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://schmichael.com/files/pagination.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;There are previous and next links as well as links for jumping right to the beginning and end. Pretty boring stuff.&lt;/p&gt;

&lt;p&gt;What&amp;#8217;s interesting is that this standard interface is disappearing in favor of something like this:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Twitter&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://schmichael.com/files/twitter-more.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Facebook&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://schmichael.com/files/facebook-more.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;And soon beta testers of &lt;a href=&#34;http://blog.urbanairship.com/2010/05/25/android-delivers-push-notifications-are-here-to-stay/&#34;&gt;Urban Airship&amp;#8217;s push service for Android&lt;/a&gt; will see a More link on the page that lists devices associated with their app:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://schmichael.com/files/apids-more.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;The simplest possible explanation for this dumbing down of pagination is that &lt;strong&gt;count (for total pages) and skip/offset are expensive operations.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Not only are those operations expensive, but in eventually consistent databases, which many modern non-relational databases are, they&amp;#8217;re extremely expensive, if not impossible, to perform.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Cassandra&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;At Urban Airship we, like Facebook, use &lt;a href=&#34;http://cassandra.apache.org/&#34;&gt;Cassandra&lt;/a&gt;: a distributed column-based database. This deals two deadly blows to traditional pagination:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;No way to count columns in a row (without reading every column).&lt;/li&gt;
&lt;li&gt;No way to skip by numeric offset (so you can&amp;#8217;t say, skip to page 5).&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;In Cassandra columns are ordered, so you start reading from the beginning and read N+1 columns where N is the number of items you&amp;#8217;d like to display. The last column&amp;#8217;s key is then used to determine whether the More link is enabled, and if so, what key to start the next &amp;#8220;page&amp;#8221; at.&lt;/p&gt;

&lt;p&gt;Both of those are solvable problems if you really need them, but I would suspect you would end up creating a column count cache as well as some sort of table of contents for the various page offsets. Not what I want to spend my time implementing.&lt;/p&gt;

&lt;p&gt;The fact of the matter is that for many use cases, a simple More button works just as well (if not better) than traditional pagination. It&amp;#8217;s also far cheaper to implement, which means more developer time free to work on features and more hardware resources available to push your 140 character insights around the web.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;MongoDB&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;I should note that MongoDB is fairly unique in the non-relational database world as its dynamic querying features include &lt;a href=&#34;http://www.mongodb.org/display/DOCS/Aggregation#Aggregation-Count&#34;&gt;count&lt;/a&gt; and [skip][8] operations. However, as with any database, you&amp;#8217;ll want to make sure these queries hit indexes.&lt;/p&gt;

&lt;p&gt;Sadly MongoDB currently doesn&amp;#8217;t have the distributed features necessary to automatically handle data too big for a single server.&lt;/p&gt;

&lt;p&gt;[8]: &lt;a href=&#34;http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%7B%7Bskip%28%29%7D%7D&#34;&gt;http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%7B%7Bskip%28%29%7D%7D&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Fun with SQLObject and mxDateTime</title>
      <link>/2007/11/29/fun-with-sqlobject-and-mxdatetime/</link>
      <pubDate>Fri, 30 Nov 2007 00:00:00 +0000</pubDate>
      
      <guid>/2007/11/29/fun-with-sqlobject-and-mxdatetime/</guid>
      <description>&lt;p&gt;I&amp;#8217;m working on a small &lt;a href=&#34;http://cherrypy.org&#34;&gt;CherryPy&lt;/a&gt; web service that among other things saves timestamps to a database. The timestamp is in &lt;a href=&#34;http://www.ietf.org/rfc/rfc3339.txt&#34;&gt;RFC 3339&lt;/a&gt; format (like &lt;code&gt;2007-07-31T16:05:00.000-05:00&lt;/code&gt;), and I needed to store the timezone.&lt;/p&gt;

&lt;p&gt;Luckily &lt;a href=&#34;http://www.egenix.com/products/python/mxBase/mxDateTime/&#34;&gt;mxDateTime&lt;/a&gt; and SQLObject&amp;#8217;s DateTimeCol both support full dates with times and time zone. Unfortunately its not immediately obvious from &lt;a href=&#34;http://sqlobject.org/SQLObject.html&#34;&gt;SQLObject&amp;#8217;s lackluster documentation&lt;/a&gt; how to use mxDateTime instead of Python&amp;#8217;s built-in datetime.&lt;/p&gt;

&lt;p&gt;A little searching brought me to a mailing list post about [how to use mxDateTime by default in SQLObject][5]. (I don&amp;#8217;t know why the sample code includes the conditional as I would think you&amp;#8217;d want your code to outright fail if you&amp;#8217;re unable to use the datetime library you expect.)&lt;/p&gt;

&lt;p&gt;So my model&amp;#8217;s code looks something like this:&lt;/p&gt;

&lt;pre lang=&#34;python&#34;&gt;from sqlobject import *
from sqlobject import col

col.default_datetime_implementation = MXDATETIME_IMPLEMENTATION

class Foo(SQLObject):
    timestamp = DateTimeCol(default=DateTimeCol.now)
&lt;/pre&gt;

&lt;p&gt;Then my parsing code looks something like this:&lt;/p&gt;

&lt;pre lang=&#34;python&#34;&gt;import model
from mx import DateTime

timestamp = &#39;2007-07-31T16:05:00.000-05:00&#39;
bar = model.Foo(timestamp=DateTime.DateTimeFrom(timestamp))
print &#39;UTC Timestamp:&#39;, bar.timestamp
print &#39;Local Timestamp:&#39;, bar.timestamp.localtime()
&lt;/pre&gt;

&lt;p&gt;Basically once you use the magic line &lt;code&gt;col.default_datetime_implementation = MXDATETIME_IMPLEMENTATION&lt;/code&gt;, everything Just Works.&lt;/p&gt;

&lt;p&gt;[5]: &lt;a href=&#34;http://pythonpaste.org/archives/message/20070410.064412.fa195fb7.en.html&#34;&gt;http://pythonpaste.org/archives/message/20070410.064412.fa195fb7.en.html&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>PostgreSQL 8.3 Beta</title>
      <link>/2007/10/09/postgresql-83-beta/</link>
      <pubDate>Tue, 09 Oct 2007 00:00:00 +0000</pubDate>
      
      <guid>/2007/10/09/postgresql-83-beta/</guid>
      <description>&lt;p&gt;&lt;small&gt;Warning: &lt;abbr title=&#34;I Am Not A DataBase Administrator&#34;&gt;IANADBA&lt;/abbr&gt;&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;I was just reading the &lt;a href=&#34;http://www.postgresql.org/docs/8.3/static/release-8-3.html&#34;&gt;release notes for PostgreSQL 8.3 beta1&lt;/a&gt;, and there&amp;#8217;s quite a lot of exciting improvements coming:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Full text search is now a built-in feature&lt;/li&gt;
&lt;li&gt;Support for the SQL/XML standard, including a new xml builtin data type &lt;em&gt;(For the enterprisy users)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;enum data types &lt;em&gt;(I&amp;#8217;m not a big fan of enums in a database, but lots of people like them.)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;UUID data type, similar to that defined by [RFC 4122][2]. &lt;em&gt;(Very useful feature in some clustering situations. Some people even argue GUIDs/UUIDs should replace integer surrogate keys most of the time.)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;ORDER BY &amp;#8230; NULLS FIRST/LAST &lt;em&gt;(A minor little feature, but I remember wishing for it once upon a time.)&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;And some excellent performance improvements, especially if you&amp;#8217;re data doesn&amp;#8217;t have to be flushed to disk to finish a transaction (potentially dangerous, but acceptable for many use cases).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;While I haven&amp;#8217;t had the pleasure of using PostgreSQL for a few months, I prefer it over MySQL and recommend it to anyone looking for an open source database with advanced features and excellent reliability.&lt;/p&gt;

&lt;p&gt;[2]: &lt;a href=&#34;http://www.ietf.org/rfc/rfc4122.txt&#34;&gt;http://www.ietf.org/rfc/rfc4122.txt&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Drupal Database Maintenance Script</title>
      <link>/2007/08/03/drupal-database-maintenance-script/</link>
      <pubDate>Fri, 03 Aug 2007 00:00:00 +0000</pubDate>
      
      <guid>/2007/08/03/drupal-database-maintenance-script/</guid>
      <description>&lt;p&gt;I love &lt;a href=&#34;http://drupal.org&#34;&gt;Drupal&lt;/a&gt;, but its insistence on saving every session its ever created causes the &lt;code&gt;sessions&lt;/code&gt; table to become massive. So I usually end up creating a shell script like the following:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;drupal-db-maint.sh&lt;/strong&gt; (I posted &lt;a href=&#34;http://pastebin.ca/644472&#34;&gt;a copy to pastebin&lt;/a&gt; since WordPress makes the code impossible to read.)&lt;/p&gt;

&lt;div style=&#34;border: 1px solid #cccccc; margin: 2px; padding: 2px; font-family: monospace; font-size: 8pt; text-align: left&#34;&gt;
  #!/bin/sh&lt;br /&gt; echo `date` &amp;#8211; Starting Drupal database maintenance&lt;br /&gt; MYSQL_USERNAME=&amp;#8217;&lt;strong&gt;insert your MySQL username here&lt;/strong&gt;&amp;#8216;&lt;br /&gt; MYSQL_PASSWORD=&amp;#8217;&lt;strong&gt;insert your MySQL password here&lt;/strong&gt;&amp;#8216;&lt;br /&gt; MYSQL_DATABASE=&amp;#8217;&lt;strong&gt;insert your database name here&lt;/strong&gt;&amp;#8216;&lt;/p&gt; 
  
  &lt;p&gt;
    # Note: 2592000 = sessions over 30 days old.&lt;br /&gt; # Adjust the timespan as desired.&lt;br /&gt; CLEAN_SESSIONS_SQL=&amp;#8217;DELETE FROM `sessions` WHERE `timestamp` &lt; (UNIX_TIMESTAMP() &amp;#8211; 2592000)&amp;#8217;&lt;br /&gt; OPTIMIZE_CACHES_SQL=&amp;#8217;OPTIMIZE TABLE `cache` , `cache_filter` , `cache_menu` , `cache_page` , `cache_views` , `sessions`&amp;#8217;
  &lt;/p&gt;
  
  &lt;p&gt;
    # Note: I have tons of modules installed.&lt;br /&gt; # I tried cleaning out their table names before posting, but you&amp;#8217;ll want to double check this SQL.&lt;br /&gt; OPTIMIZE_REST_SQL=&amp;#8217;OPTIMIZE TABLE `access` , `accesslog` , `aggregator_category` , `aggregator_category_feed` , `aggregator_category_item` , `aggregator_feed` , `aggregator_item` , `authmap` , `blocks` , `blocks_roles` , `boxes` , `client` , `client_system` , `comments` , `contact` , `files` , `file_revisions` , `filters` , `filter_formats` , `flood` , `history` , `invite` , `menu` , `node` , `node_access` , `node_comment_statistics` , `node_counter` , `node_revisions` , `node_type` , `permission` , `profile_fields` , `profile_values` , `role` , `search_dataset` , `search_index` , `search_total` , `sequences` , `system` , `term_data` , `term_hierarchy` , `term_node` , `term_relation` , `term_synonym` , `url_alias` , `users` , `users_roles` , `variable` , `vocabulary` , `vocabulary_node_types` , `watchdog`&amp;#8217;
  &lt;/p&gt;
  
  &lt;p&gt;
    # Note: I run this script on a Linode which has limited IO.&lt;br /&gt; # Adding a short wait between commands lessens the load on the server.&lt;br /&gt; SLEEP_TIME=5
  &lt;/p&gt;
  
  &lt;p&gt;
    echo $CLEAN_SESSIONS_SQL | mysql -u $MYSQL_USERNAME -p$MYSQL_PASSWORD $MYSQL_DATABASE&lt;br /&gt; sleep $SLEEP_TIME
  &lt;/p&gt;
  
  &lt;p&gt;
    echo $OPTIMIZE_CACHES_SQL | mysql -u $MYSQL_USERNAME -p$MYSQL_PASSWORD $MYSQL_DATABASE &gt; /dev/null&lt;br /&gt; sleep $SLEEP_TIME
  &lt;/p&gt;
  
  &lt;p&gt;
    echo $OPTIMIZE_REST_SQL | mysql -u $MYSQL_USERNAME -p$MYSQL_PASSWORD $MYSQL_DATABASE &gt; /dev/null
  &lt;/p&gt;
  
  &lt;p&gt;
    echo `date` &amp;#8211; Done with Drupal database maintenance
  &lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;Then just run &lt;code&gt;crontab -e&lt;/code&gt; to edit your crontab and add a line similar to:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;46  4  *   *   *     /path/to/drupal-db-maint.sh&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;That will optimize your database nightly at 4:46 AM server time (usually UTC).&lt;/p&gt;

&lt;p&gt;If you don&amp;#8217;t like my solution, there are plenty of &lt;a href=&#34;http://tools.ourmedia.org/blog/markus_sandy/performance_and_a_new_module&#34;&gt;more elegant session cleaning solutions out there&lt;/a&gt;. I&amp;#8217;m just more comfortable writing shell scripts and crontabs than Drupal modules that use [hook_cron][4].&lt;/p&gt;

&lt;p&gt;&lt;small&gt;Posting code in WordPress so that its readable is pretty much impossible. Any suggestions?&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;[4]: &lt;a href=&#34;http://api.drupal.org/api/function/hook_cron/5&#34;&gt;http://api.drupal.org/api/function/hook_cron/5&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>PostgreSQL Killed My Harddrive</title>
      <link>/2007/03/14/postgresql-killed-my-harddrive/</link>
      <pubDate>Wed, 14 Mar 2007 00:00:00 +0000</pubDate>
      
      <guid>/2007/03/14/postgresql-killed-my-harddrive/</guid>
      <description>&lt;p&gt;The harddrive died in the server that dumps our firewall&amp;#8217;s syslog output into a nice &lt;a href=&#34;http://www.postgresql.org&#34;&gt;PostgreSQL&lt;/a&gt; database for easy reporting. PostgreSQL didn&amp;#8217;t do anything evil in order to kill the drive, but because &lt;a href=&#34;http://developer.postgresql.org/pgdocs/postgres/runtime-config-wal.html&#34;&gt;it syncs data to the harddrive for safety&lt;/a&gt;, it kept my ancient server&amp;#8217;s harddrive spinning &lt;sup&gt;24&lt;/sup&gt;&amp;frasl;&lt;sub&gt;7&lt;/sub&gt;.&lt;/p&gt;

&lt;p&gt;I should mention this was my fault. I really should have &lt;a href=&#34;http://www.postgresql.org/docs/8.1/interactive/runtime-config-wal.html&#34;&gt;turned fsync off&lt;/a&gt; to let the server cache the trickle of ICMP packets that keep our firewall awake all night. Instead the old Quantum Fireball Plus LM harddrive wrote every byte right as it came in.&lt;/p&gt;

&lt;p&gt;Luckily the harddrive still worked enough that I could attach it to another computer via a IDE-USB adapter and copy off any data I wanted to keep.&lt;/p&gt;

&lt;p&gt;Below are the SMART statistics for the drive as collected by &lt;a href=&#34;http://smartmontools.sourceforge.net/&#34;&gt;smartmontools&lt;/a&gt; and &lt;a href=&#34;http://munin.projects.linpro.no/&#34;&gt;munin&lt;/a&gt;. As I was able to retrieve data off the disk, I would say SMART did its job even if it didn&amp;#8217;t give me much warning.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://michael.susens-schurter.com/blog/wp-content/uploads/2007/03/moodletremontlocal-smart_hda-day.png&#34; title=&#34;moodletremontlocal-smart_hda-day.png&#34;&gt;&lt;img src=&#34;http://michael.susens-schurter.com/blog/wp-content/uploads/2007/03/moodletremontlocal-smart_hda-day.png&#34; alt=&#34;moodletremontlocal-smart_hda-day.png&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://michael.susens-schurter.com/blog/wp-content/uploads/2007/03/moodletremontlocal-smart_hda-month.png&#34; title=&#34;moodletremontlocal-smart_hda-month.png&#34;&gt;&lt;img src=&#34;http://michael.susens-schurter.com/blog/wp-content/uploads/2007/03/moodletremontlocal-smart_hda-month.png&#34; alt=&#34;moodletremontlocal-smart_hda-month.png&#34; /&gt;&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Connecting SQLObjects to PostgreSQL via SSL</title>
      <link>/2007/03/07/connecting-sqlobjects-to-postgresql-via-ssl/</link>
      <pubDate>Wed, 07 Mar 2007 00:00:00 +0000</pubDate>
      
      <guid>/2007/03/07/connecting-sqlobjects-to-postgresql-via-ssl/</guid>
      <description>&lt;p&gt;I&amp;#8217;m trying to learn &lt;a href=&#34;http://www.turbogears.org/&#34;&gt;TurboGears,&lt;/a&gt; but I got stumped yesterday trying to figure out how to connect to PostgreSQL via SSL.&lt;/p&gt;

&lt;p&gt;Turns out this works in &lt;a href=&#34;http://www.sqlobject.org/&#34;&gt;SQLObject&lt;/a&gt; (TurboGear&amp;#8217;s default ORM):&lt;/p&gt;

&lt;p&gt;&lt;code&gt;sqlobject.dburi=&amp;quot;postgres://username:pass@servername/mydb sslmode=require&amp;quot;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Turns out the syntax I was trying to use works with [SQLAlchemy]&lt;a href=&#34;which it appears most cool kids use&#34;&gt;3&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;postgres://username:pass@servername/mydb&lt;/code&gt;&lt;code&gt;&amp;lt;strong&amp;gt;?&amp;lt;/strong&amp;gt;sslmode=require&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Notice the only difference is the question mark between the database and extra parameters. Kind of makes me want to cry&amp;#8230;&lt;/p&gt;

&lt;p&gt;To all my friends who have listened to me extol the virtues of Python, let me also add that &lt;strong&gt;learning a new framework sucks&lt;/strong&gt;. Especially when that framework is a moving target.&lt;/p&gt;

&lt;p&gt;[3]: &lt;a href=&#34;http://www.sqlalchemy.org&#34;&gt;http://www.sqlalchemy.org&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Setting Up Yet Another Debian Etch Server</title>
      <link>/2007/01/25/setting-up-yet-another-debian-etch-server/</link>
      <pubDate>Thu, 25 Jan 2007 00:00:00 +0000</pubDate>
      
      <guid>/2007/01/25/setting-up-yet-another-debian-etch-server/</guid>
      <description>&lt;p&gt;A teacher e-mailed me the other day wondering if I could setup a server with &lt;a href=&#34;http://moodle.org/&#34;&gt;Moodle&lt;/a&gt; on it for him to test. I was overjoyed at the request because the teacher had discovered Moodle, &lt;a href=&#34;http://mysql.com/&#34;&gt;MySQL,&lt;/a&gt; &lt;a href=&#34;http://php.net/&#34;&gt;PHP,&lt;/a&gt; and Linux (as well as their freeness) all by himself!&lt;/p&gt;

&lt;p&gt;I used the &lt;a href=&#34;http://www.debian.org/&#34;&gt;Debian&lt;/a&gt; &lt;a href=&#34;http://www.debian.org/releases/etch/&#34;&gt;Etch&lt;/a&gt; &lt;a href=&#34;http://cdimage.debian.org/cdimage/daily-builds/daily/arch-latest/i386/iso-cd/debian-testing-i386-netinst.iso&#34;&gt;Net Install Daily Image&lt;/a&gt; for today (1/25/2007), and everything went pretty smoothly.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Installation&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;I thought I had entered &amp;#8220;installgui&amp;#8221; at the boot prompt, but I still got the old text based setup. Everything went smoothly, so I have no complaints. Perhaps the net installation doesn&amp;#8217;t have the GUI installer?&lt;/p&gt;

&lt;p&gt;One scary thing did happen during installation: after the initial reboot Linux ran fsck on the new installation and found a number of errors! After another reboot everything appears to be working normally. This is an old PIII computer, so I&amp;#8217;m immediately installing smartmontools.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Setup&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;GDM came up with a few colored vertical lines. One &lt;a href=&#34;http://michael.susens-schurter.com/blog/xorg%20intel%2082815&#34;&gt;Google search later&lt;/a&gt; &lt;a href=&#34;http://www.linuxquestions.org/hcl/showproduct.php/product/2851&#34;&gt;I discovered that the i810 Intel driver might do that at higher resolutions&lt;/a&gt;. I lowered my resolution to 1024 x 768 and everything works beautifully.&lt;/p&gt;

&lt;p&gt;Upon updating my package lists in Synaptic, I got some strange errors from gpg, so Debian can&amp;#8217;t validate a number of packages. A bit strange, but it doesn&amp;#8217;t hurt anything.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;apt-zeroconf&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Thanks to &lt;a href=&#34;http://trac.phidev.org/trac/wiki/AptZeroconf&#34;&gt;apt-zeroconf&lt;/a&gt; I downloaded the 40+ megs of extra packages I needed mostly off of my other 2 local Debian boxes. Now if only I could configure the net install CD to use apt-zeroconf&amp;#8230; hm&amp;#8230; Sounds like a job for lazyweb!&lt;/p&gt;

&lt;p&gt;I do get periodic 404 errors when using apt-zeroconf, but just trying again fixes it every time.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Summary&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;All things considered I didn&amp;#8217;t see any reason not to &lt;strong&gt;release Etch immediately&lt;/strong&gt;!&lt;/p&gt;

&lt;p&gt;&lt;em&gt;I still recommend &lt;a href=&#34;http://www.ubuntu.com/&#34;&gt;Ubuntu&lt;/a&gt; or [openSUSE][11] for normal users or people new to Linux as Debian just doesn&amp;#8217;t do enough hand holding for people not willing to spend some time learning Linux.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;[11]: &lt;a href=&#34;http://www.opensuse.org/&#34;&gt;http://www.opensuse.org/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>PostgreSQL 8.2 Released</title>
      <link>/2006/12/06/postgresql-82-released/</link>
      <pubDate>Wed, 06 Dec 2006 00:00:00 +0000</pubDate>
      
      <guid>/2006/12/06/postgresql-82-released/</guid>
      <description>&lt;p&gt;Just noticed &lt;a href=&#34;http://www.postgresql.org/docs/8.2/static/release-8-2.html&#34;&gt;PostgreSQL 8.2 was released yesterday&lt;/a&gt;. I chose PostgreSQL 8.x for a large project when MySQL 5 either wasn&amp;#8217;t out or was too new for my comfort.&lt;/p&gt;

&lt;p&gt;I learned database application programming on MySQL, but now I choose PostgreSQL whenever I have the option. PostrgeSQL is just packed with features that MySQL either doesn&amp;#8217;t have or just recently implemented so you need a cutting edge version.&lt;/p&gt;

&lt;p&gt;It seems to me that PostgreSQL has a much better user community as well. I know there are many excellent DBA&amp;#8217;s using MySQL, but the MySQL community seems dominated by PHP hackers who found MySQL pre-installed on their $5/mo. shared hosting account.&lt;/p&gt;

&lt;p&gt;If you&amp;#8217;ve never tried PostgreSQL, I highly recommend it, especially if you&amp;#8217;ve ever implemented &lt;em&gt;autonumber tables&lt;/em&gt; in MySQL to get around flaky autonumber generation. PostgreSQL uses &lt;em&gt;sequences&lt;/em&gt; which are basically single field/row tables for maintaining autonumbers. There are a number of &lt;a href=&#34;http://www.postgresql.org/docs/8.2/interactive/functions-sequence.html&#34;&gt;sequence related functions in PostgreSQL&lt;/a&gt; that makes work with autonumbers not only easy, but also predictable.&lt;/p&gt;

&lt;p&gt;Oh and [pgAdmin III][3] beats MySQL&amp;#8217;s awkward and buggy GUI offerings any day.&lt;/p&gt;

&lt;p&gt;[3]: &lt;a href=&#34;http://www.pgadmin.org/&#34;&gt;http://www.pgadmin.org/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>When dealing with 1 GB databases…</title>
      <link>/2006/11/17/when-dealing-with-1-gb-databases/</link>
      <pubDate>Fri, 17 Nov 2006 00:00:00 +0000</pubDate>
      
      <guid>/2006/11/17/when-dealing-with-1-gb-databases/</guid>
      <description>&lt;p&gt;&amp;#8230;create good indexes.&lt;/p&gt;

&lt;p&gt;This should be obvious, but for some reason I was getting frustrated with MySQL for taking almost 30 seconds to query a 1 GB table that only had a worthless index on a [surrogate key][1]. With proper indexing, the same query takes less than 1/10th of a second.&lt;/p&gt;

&lt;p&gt;[1]: &lt;a href=&#34;http://en.wikipedia.org/wiki/Surrogate_key&#34;&gt;http://en.wikipedia.org/wiki/Surrogate_key&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ODBC Test Tool</title>
      <link>/2006/09/12/odbc-test-tool/</link>
      <pubDate>Tue, 12 Sep 2006 00:00:00 +0000</pubDate>
      
      <guid>/2006/09/12/odbc-test-tool/</guid>
      <description>&lt;p&gt;Today I find myself once again fighting Crystal Reports. It claims that it can&amp;#8217;t connect to the ODBC datasource I created for it since it can&amp;#8217;t use Npgsql. Just to prove it wrong I quick hacked together an ODBC Test Tool in &lt;a href=&#34;http://www.icsharpcode.net/OpenSource/SD/&#34;&gt;SharpDevelop&lt;/a&gt;. Sure enough, the ODBC connection works just fine.&lt;/p&gt;

&lt;p&gt;[Here&amp;#8217;s a zip of ODBCTestTool][2] which contains the source code and compiled executables under the &lt;em&gt;bin&lt;/em&gt; directory. It requires .NET 2.0, and I doubt it runs on Mono since it uses ODBC.&lt;/p&gt;

&lt;p&gt;Oh and I didn&amp;#8217;t include any license information, so I guess its public domain. Have fun.&lt;/p&gt;

&lt;p&gt;[2]: &lt;a href=&#34;http://blogs.synthesyssolutions.com/michael/wp-content/uploads/2006/09/ODBCTestTool-0.1.zip&#34;&gt;http://blogs.synthesyssolutions.com/michael/wp-content/uploads/2006/09/ODBCTestTool-0.1.zip&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>SchoolWorks on Linux: Part 1 of Many</title>
      <link>/2006/09/06/schoolworks-on-linux-part-1-of-many/</link>
      <pubDate>Thu, 07 Sep 2006 00:00:00 +0000</pubDate>
      
      <guid>/2006/09/06/schoolworks-on-linux-part-1-of-many/</guid>
      <description>&lt;p&gt;Now that &lt;a href=&#34;http://www.schoolworksinc.com/&#34;&gt;SchoolWorks&lt;/a&gt; has officially been released, I guess I can begin posting about my attempts to get it running on Linux.&lt;/p&gt;

&lt;p&gt;First of all SchoolWorks is school administration software (or &lt;a href=&#34;http://en.wikipedia.org/wiki/Student_information_system&#34;&gt;SIS&lt;/a&gt;) built using:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://msdn.microsoft.com/asp.net/&#34;&gt;ASP.NET&lt;/a&gt; 2.0 (in Windows using &lt;a href=&#34;http://msdn.microsoft.com/vstudio/&#34;&gt;Microsoft Visual Studio&lt;/a&gt; 2005)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.postgresql.org/&#34;&gt;PostgreSQL&lt;/a&gt; (thanks to &lt;a href=&#34;http://pgfoundry.org/projects/npgsql&#34;&gt;Npgsql&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Crystal Reports (great for report designers, &lt;a href=&#34;http://blogs.synthesyssolutions.com/michael/2006/08/23/never-use-crystal-reports-again/&#34;&gt;abhorrent for developers&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;We also used the following support tools:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.bugzilla.org/&#34;&gt;Bugzilla&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://subversion.tigris.org/&#34;&gt;Subversion&lt;/a&gt; and &lt;a href=&#34;http://tortoisesvn.net/&#34;&gt;TortoiseSVN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.pgadmin.org/&#34;&gt;PgAdmin III&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;While Visual Studio and ASP.NET can be frustrating at times, the only part of SchoolWorks that I avoid like the plague is working with Crystal Reports.&lt;/p&gt;

&lt;p&gt;Recently I&amp;#8217;ve been trying to build SchoolWorks using &lt;a href=&#34;http://www.mono-project.com/&#34;&gt;Mono&lt;/a&gt; on Linux. I&amp;#8217;ve successfully &lt;a href=&#34;http://www.mono-project.com/&#34;&gt;built Mono&lt;/a&gt; (libgdiplus + mono + mcs + xsp) on my personal &lt;a href=&#34;http://www.debian.org/releases/etch/&#34;&gt;Debian Etch&lt;/a&gt;, but I haven&amp;#8217;t gotten much of SchoolWorks to compile yet.&lt;/p&gt;

&lt;p&gt;The first missing feature was &lt;a href=&#34;http://msdn2.microsoft.com/en-us/library/system.decimal.tryparse.aspx&#34;&gt;Decimal.TryParse&lt;/a&gt; which we use a lot in SchoolWorks. [I submitted (my very first!) patch to the mono-devel mailing list in hopes of getting support for Decimal.TryParse added][15].&lt;/p&gt;

&lt;p&gt;I&amp;#8217;ll try to keep posting my progress as it should be interesting to SchoolWorks users as well as .NET/Mono developers.&lt;/p&gt;

&lt;p&gt;[15]: &lt;a href=&#34;http://lists.ximian.com/pipermail/mono-devel-list/2006-September/020302.html&#34;&gt;http://lists.ximian.com/pipermail/mono-devel-list/2006-September/020302.html&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Missing MySQL’s REPLACE (aka MERGE) in PostgreSQL</title>
      <link>/2006/07/13/missing-mysqls-replace-aka-merge-in-postgresql/</link>
      <pubDate>Thu, 13 Jul 2006 00:00:00 +0000</pubDate>
      
      <guid>/2006/07/13/missing-mysqls-replace-aka-merge-in-postgresql/</guid>
      <description>&lt;p&gt;When Synthesys first decided to go with PostgreSQL as the database for a large web application, I was very excited to get away from our usual reliance on MySQL and move to a &lt;em&gt;real&lt;/em&gt; database platform.&lt;/p&gt;

&lt;p&gt;Once we figured out the whole MySQL auto_increment vs. &lt;a href=&#34;http://www.postgresql.org/docs/8.1/interactive/datatype.html#DATATYPE-SERIAL&#34;&gt;PostgreSQL SERIAL&lt;/a&gt;, the first thing we really missed in PostgreSQL was the REPLACE statement. I understand why its missing, and it is kind of a hack of a SQL statement (its not in a SQL standard).&lt;/p&gt;

&lt;p&gt;Turns out in the &lt;a href=&#34;http://www.varlena.com/GeneralBits/73.php&#34;&gt;SQL 2003 Standard there is a statement similar to REPLACE called MERGE&lt;/a&gt;. Despite PostgreSQL&amp;#8217;s excellent support for standards, they &lt;a href=&#34;http://www.postgresql.org/docs/8.1/interactive/unsupported-features-sql-standard.html&#34;&gt;have not implemented MERGE&lt;/a&gt;. I would guess it has something to do with the ambiguity of the statement.&lt;/p&gt;

&lt;p&gt;At any rate I still love working with PostgreSQL, and for what its worth [Npgsql is an excellent PostgreSQL connector for Mono/.Net][4]. (Even in RC/Beta state)&lt;/p&gt;

&lt;p&gt;[4]: &lt;a href=&#34;http://pgfoundry.org/projects/npgsql/&#34;&gt;http://pgfoundry.org/projects/npgsql/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Connecting Crystal Reports XI Standard to PostgreSQL</title>
      <link>/2006/05/22/connecting-crystal-reports-xi-standard-to-postgresql/</link>
      <pubDate>Mon, 22 May 2006 00:00:00 +0000</pubDate>
      
      <guid>/2006/05/22/connecting-crystal-reports-xi-standard-to-postgresql/</guid>
      <description>&lt;p&gt;At &lt;a href=&#34;http://www.synthesyssolutions.com/&#34;&gt;Synthesys&lt;/a&gt; we&amp;#8217;re using &lt;a href=&#34;http://www.postgresql.org/&#34;&gt;PostgreSQL&lt;/a&gt; as the database for a large web application.ï¿½ For the time being we&amp;#8217;re writing our reports in Crystal Reports, although we&amp;#8217;re hoping to move to a free platform in the future.&lt;/p&gt;

&lt;p&gt;Unfortunately we only have &lt;a href=&#34;http://www.businessobjects.com/products/reporting/crystalreports/standard/default.asp&#34;&gt;Crystal Reports XI &lt;em&gt;&lt;strong&gt;Standard Edition&lt;/strong&gt;&lt;/em&gt;&lt;/a&gt; which evidently doesn&amp;#8217;t support ODBC connections.ï¿½ Crystal wants you to buy the Professional Edition to get that kind of &lt;em&gt;enterprise&lt;/em&gt; functionality.&lt;/p&gt;

&lt;p&gt;Our first attempt to get the two talking consisted of using &lt;strong&gt;Microsoft Access&amp;#8217;s External Table Linking capability&lt;/strong&gt;.ï¿½ While this was &lt;strong&gt;horrifying&lt;/strong&gt; in concept, it actually worked beautifully until you needed to sort by a PostgreSQL &lt;em&gt;text&lt;/em&gt; field.ï¿½ Microsoft Access read &lt;em&gt;text&lt;/em&gt; fields as &lt;em&gt;memo&lt;/em&gt; fields, and you can&amp;#8217;t sort by &lt;em&gt;memo&lt;/em&gt; fields.&lt;/p&gt;

&lt;p&gt;So back to the drawing board.ï¿½ Our next attempt was to use &lt;a href=&#34;http://pgfoundry.org/projects/oledb/&#34;&gt;&lt;strong&gt;PgOleDb&lt;/strong&gt;&lt;/a&gt; in hopes that Crystal allowed that.ï¿½ For some reason Crystal allows OLE connections, but not ODBC.ï¿½ However, whenever we tried to add a table to a report, we received an OLE/ADO error.ï¿½ Have I mentioned I hate Window&amp;#8217;s data access technologies?ï¿½ Well I do.&lt;/p&gt;

&lt;p&gt;Our final attempt consisted of connecting to &lt;strong&gt;ODBC through OLE&lt;/strong&gt;.ï¿½ I don&amp;#8217;t know why this is possible, but it is.ï¿½ Not only is it possible, but it works beautifully.&lt;/p&gt;

&lt;p&gt;For some bizarre reason &lt;strong&gt;you can connect to a PostgreSQL database from Crystal Reports XI Standard Edition if you use an OLE wrapper around a PostgreSQL ODBC connection.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Many thanks to [psqlODBC][5], and no thanks to Crystal.&lt;/p&gt;

&lt;p&gt;[5]: &lt;a href=&#34;http://pgfoundry.org/projects/psqlodbc/&#34;&gt;http://pgfoundry.org/projects/psqlodbc/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Planned Obsolescence… in 8000 Years</title>
      <link>/2006/03/22/planned-obsolescence-in-8000-years/</link>
      <pubDate>Wed, 22 Mar 2006 00:00:00 +0000</pubDate>
      
      <guid>/2006/03/22/planned-obsolescence-in-8000-years/</guid>
      <description>&lt;p&gt;I made a simple little real time data reporting system live today which dumps a row into a MySQL database once a minute. I didn&amp;#8217;t include any archiving or purging functionality, so I decided to do some quick calculations to see how long this system could run before running into constraints.&lt;/p&gt;

&lt;p&gt;The table uses an unsigned 32-bit integer surrogate key, so in about 8171 years I&amp;#8217;ll run out of unique sequential IDs.&lt;/p&gt;

&lt;p&gt;The tables uses about 200 bytes/row, so in 8000 years I&amp;#8217;ll need almost 800 GBs of storage.&lt;/p&gt;

&lt;p&gt;The current partition the database is stored on only has 21 GB of free space, so it looks like I&amp;#8217;ll run out of storage space in a mere 200 years.&lt;/p&gt;

&lt;p&gt;Of course, the server in question is a Dell, so it will most likely die from hardware failure in a year or two anyway. So much for 8000 years of maintenance free bliss.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>OpenIT Progress</title>
      <link>/2006/01/24/openit-progress/</link>
      <pubDate>Wed, 25 Jan 2006 00:00:00 +0000</pubDate>
      
      <guid>/2006/01/24/openit-progress/</guid>
      <description>&lt;p&gt;I&amp;#8217;ve been keeping up a good pace of bug fixing in &lt;a href=&#34;https://sourceforge.net/projects/openit&#34;&gt;OpenIT&lt;/a&gt; thanks to user bug reports. I&amp;#8217;m really getting bitter about using &lt;a href=&#34;http://www.mysql.com&#34;&gt;MySQL&lt;/a&gt; 4.0, especially after we&amp;#8217;ve started using &lt;a href=&#34;http://www.postgresql.org&#34;&gt;PostgreSQL&lt;/a&gt; for a new project at Synthesys.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.postgresql.org/docs/8.1/interactive/tutorial-views.html&#34;&gt;Views&lt;/a&gt;? &lt;a href=&#34;http://www.postgresql.org/docs/8.1/interactive/tutorial-fk.html&#34;&gt;Foreign Key Constraints&lt;/a&gt;? [Cascading UPDATEs and DELETEs][6]? I&amp;#8217;ve had to implement these in PHP! Lord have mercy on my soul. While I appreciate how easy MySQL is to install and use, after using PostgreSQL for just a short while I&amp;#8217;m ready to drop MySQL and never look back.&lt;/p&gt;

&lt;p&gt;[6]: &lt;a href=&#34;http://www.postgresql.org/docs/8.1/interactive/ddl-constraints.html#DDL-CONSTRAINTS-FK&#34;&gt;http://www.postgresql.org/docs/8.1/interactive/ddl-constraints.html#DDL-CONSTRAINTS-FK&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>