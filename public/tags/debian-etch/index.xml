<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Debian Etch on </title>
    <link>/tags/debian-etch/</link>
    <description>Recent content in Debian Etch on </description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Sat, 27 Dec 2008 00:00:00 +0000</lastBuildDate>
    <atom:link href="/tags/debian-etch/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Release Lenny!</title>
      <link>/2008/12/27/release-lenny/</link>
      <pubDate>Sat, 27 Dec 2008 00:00:00 +0000</pubDate>
      
      <guid>/2008/12/27/release-lenny/</guid>
      <description>&lt;p&gt;An article from &lt;a href=&#34;http://www.theregister.co.uk/2008/12/27/mysql_slowing_down/&#34;&gt;El Reg about MySQL&lt;/a&gt; ends with a great quote:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;This is the same lesson that Debian hasn&amp;#8217;t yet learned from Ubuntu: fast and good-enough always beats slow and correct.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Release &lt;a href=&#34;http://www.debian.org/releases/lenny/&#34;&gt;Lenny&lt;/a&gt; now!&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt; Yay! It appears [Debian has voted that binary firmware blobs in the Linux kernel are GPL compatible][3] unless explicitly proven otherwise! AFAIK this is in line with Linus&amp;#8217;s reasoning as well. Regardless of the &amp;#8220;law,&amp;#8221; end users benefit greatly from these blobs, and this means Lenny will hopefully be released much sooner than if another option had won!&lt;/p&gt;

&lt;p&gt;&lt;small&gt;The poor thing [Lenny] is already out of date (Old version of OpenOffice.org, 2 versions old on the kernel now, a version behind with Gnome, even further behind with KDE I believe, etc.)&lt;/small&gt;&lt;/p&gt;

&lt;p&gt;[3]: &lt;a href=&#34;http://master.debian.org/~secretary/gr_lenny/results.txt&#34;&gt;http://master.debian.org/~secretary/gr_lenny/results.txt&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Recipe for a Transparent Linux Firewall and CherryPy Control Panel</title>
      <link>/2007/11/06/recipe-for-a-transparent-linux-firewall-and-cherrypy-control-panel/</link>
      <pubDate>Tue, 06 Nov 2007 00:00:00 +0000</pubDate>
      
      <guid>/2007/11/06/recipe-for-a-transparent-linux-firewall-and-cherrypy-control-panel/</guid>
      <description>&lt;div style=&#34;float: right; padding: 10px;&#34;&gt;
  &lt;a href=&#34;http://michael.susens-schurter.com/files/firewalladmin.png&#34;&gt;&lt;img alt=&#34;firewalladmin screenshot&#34; src=&#34;http://michael.susens-schurter.com/files/firewalladmin-small.png&#34; /&gt;&lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;At my previous job I built a transparent firewall with the help of a student. He hacked up some iptables scripts, and I hacked up a CherryPy application to control the firewall. It turned out to be pretty handy, so I&amp;#8217;m finally getting around to posting it somewhere&amp;#8230;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Recipe:&lt;/strong&gt; A transparent firewall to block certain IP addresses and a nice web based control panel to edit the blacklist.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Ingredients:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Old computer (preferably a PIII) with 3 NICs&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.debian.org/releases/etch/&#34;&gt;Debian Etch&lt;/a&gt; (or your Linux flavor of choice)&lt;/li&gt;
&lt;li&gt;Packages: &lt;a href=&#34;http://packages.debian.org/etch/iptables&#34;&gt;iptables&lt;/a&gt;, &lt;a href=&#34;http://packages.debian.org/etch/bridge-utils&#34;&gt;bridge-utils&lt;/a&gt;, &lt;a href=&#34;http://packages.debian.org/etch/python/python&#34;&gt;Python&lt;/a&gt;, &lt;a href=&#34;http://packages.debian.org/etch/python/python-setuptools&#34;&gt;setuptools&lt;/a&gt;, CherryPy 3 (use easy_install), Genshi (use easy_install), &lt;a href=&#34;http://packages.debian.org/etch/python/python-adns&#34;&gt;Python-ADNS&lt;/a&gt;, &lt;a href=&#34;http://packages.debian.org/etch/python/python-sqlobject&#34;&gt;SQLObject&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://michael.susens-schurter.com/code/firewall-admin.tar.gz&#34;&gt;firewall-admin.tar.gz&lt;/a&gt; &amp;#8211; my exceedingly creatively named firewall administration CherryPy web app&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Directions:&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Extract firewall-admin.tar.gz and change to the base directory. By default its setup to be in /srv/firewall-admin&lt;/li&gt;
&lt;li&gt;If you didn&amp;#8217;t extract to &lt;code&gt;/srv/firewall-admin&lt;/code&gt;, edit etc/rc.local and &lt;em&gt;basedir&lt;/em&gt; in &lt;code&gt;firewalladmin.config&lt;/code&gt; to reflect the current directory.&lt;/li&gt;
&lt;li&gt;By default &lt;code&gt;firewalladmin/lib/bridge.py&lt;/code&gt; [bridges][9] &lt;em&gt;eth1&lt;/em&gt; and &lt;em&gt;eth2&lt;/em&gt;, and &lt;em&gt;eth0&lt;/em&gt; should be attached to your LAN to access SSH and the web control panel.&lt;/li&gt;
&lt;li&gt;Edit firewalladmin.config to run on the IP address assigned to your administrative NIC and remember what port its set to run on.&lt;/li&gt;
&lt;li&gt;Add the commands from &lt;code&gt;etc/rc.local&lt;/code&gt; to your system&amp;#8217;s existing &lt;code&gt;/etc/rc.local&lt;/code&gt; script. This will start the transparent firewall and web control panel on boot.&lt;/li&gt;
&lt;li&gt;Next you&amp;#8217;ll need to setup the database. Edit line 28 in &lt;code&gt;firewalladmin/model.py&lt;/code&gt; to set a default password and then run &lt;code&gt;createdb.py&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;You&amp;#8217;re now ready to start the firewall and control panel simply by running &lt;code&gt;sudo etc/rc.local&lt;/code&gt; (see &lt;em&gt;Caveats&lt;/em&gt; below). You can always test out just the web interface by running &lt;code&gt;start-firewalladmin.py&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Browse to the web interface using the IP and Port setup in step 4, login using the username and password setup in step 6, and start configuring your transparent firewall!&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The firewall allows creating multiple blacklists (aka Categories) which can be edited/paused/deleted individually. It has has &lt;em&gt;allow lists&lt;/em&gt; (aka Whitelists) which can be used to allow specific internal IPs access to specific sites that might otherwise be blocked by a blacklist.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Important:&lt;/strong&gt; When a user visits a blocked site they are redirected to the IP and Port specified on line 10 of &lt;code&gt;firewalladmin/lib/iptables.py&lt;/code&gt;. We setup Apache to listen on that port and serve up a generic &lt;em&gt;You&amp;#8217;ve been blocked&lt;/em&gt; page, but you could be even more clever. You&amp;#8217;ll need a &lt;code&gt;.htaccess&lt;/code&gt; file like the following to properly map all blocked traffic to your block page:&lt;/p&gt;

&lt;pre lang=&#34;htaccess&#34;&gt;RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.html [L,QSA]
&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;Caveats&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;All scripts as well as the web control panel are &lt;strong&gt;executed as root&lt;/strong&gt;. This setup should only be run on dedicated hardware and not on a server with other services.&lt;/li&gt;
&lt;li&gt;No test suite. Mea culpa.&lt;/li&gt;
&lt;li&gt;Little to no error handling. You&amp;#8217;ve been warned. ðŸ˜‰&lt;/li&gt;
&lt;li&gt;Basically this is a quick hack and should not be used in the same way you use tested and maintained software. YMMV&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This little setup has proved very useful at the school for augmenting their existing content filtering system, and all web traffic passes through it without trouble. An old PIII can run a 3,000 domain blacklist at wirespeed on a 10 Mbps link while using less than 10% of the CPU.&lt;/p&gt;

&lt;p&gt;[9]: &lt;a href=&#34;http://www.linux-foundation.org/en/Net:Bridge&#34;&gt;http://www.linux-foundation.org/en/Net:Bridge&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>