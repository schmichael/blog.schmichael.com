<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Safari on schmichael&#39;s blog</title>
    <link>https://blog.schmichael.com/tags/safari/</link>
    <description>Recent content in Safari on schmichael&#39;s blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Wed, 17 Oct 2007 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://blog.schmichael.com/tags/safari/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Every 3rd Safari Upload Fails</title>
      <link>https://blog.schmichael.com/2007/10/17/every-3rd-safari-upload-fails/</link>
      <pubDate>Wed, 17 Oct 2007 00:00:00 +0000</pubDate>
      
      <guid>https://blog.schmichael.com/2007/10/17/every-3rd-safari-upload-fails/</guid>
      <description>&lt;div style=&#34;float: left;&#34;&gt;
  &lt;a href=&#34;http://cherrypy.org&#34;&gt;&lt;img src=&#34;http://michael.susens-schurter.com/files/cplogo.jpg&#34; alt=&#34;CherryPy Logo&#34; /&gt;&lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Recently I built a small &lt;a href=&#34;http://cherrypy.org/&#34;&gt;CherryPy&lt;/a&gt; application to allow users to upload photos to a gallery. The application is pretty trivial and just uses the &lt;a href=&#34;http://www.pythonware.com/products/pil/&#34;&gt;Python Imaging Library&lt;/a&gt; to resize the photos and &lt;a href=&#34;http://genshi.edgewall.org/&#34;&gt;Genshi&lt;/a&gt; to output some XML which is used by a Flash gallery.&lt;/p&gt;

&lt;p&gt;However, after deployment a user complained every 3rd upload would fail. She was using Safari on Mac OSX, and I couldn&amp;#8217;t duplicate the error in Firefox. Luckily she didn&amp;#8217;t mind switching to Firefox and it fixed her problem:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Working with Firefox has helped tremendously! I&amp;#8217;ll only use it from now on, and we should be fine with uploads.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Has anyone else seen this? I [deployed CherryPy behind Apache 2.2 using mod_proxy][4], and Apache logs the following error when an upload fails (IPs changed):&lt;/p&gt;

&lt;pre&gt;[error] proxy: client 000.000.000.000 given Content-Length did not match number of body bytes read
[error] (70014)End of file found: proxy: pass request body failed to 127.0.0.1:9595 (127.0.0.1) from 00.000.000.001 ()&lt;/pre&gt;

&lt;p&gt;So it appears Safari just messes up the Content-Length. All CherryPy would receive is a POST with no data.&lt;/p&gt;

&lt;p&gt;[4]: &lt;a href=&#34;http://michael.susens-schurter.com/blog/2007/08/16/deploying-cherrypy-on-apache-2-using-mod_proxy/&#34;&gt;http://michael.susens-schurter.com/blog/2007/08/16/deploying-cherrypy-on-apache-2-using-mod_proxy/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>